# node重温

## node特性
单线程  
异步(非阻塞) I/O(回调函数实现)  
事件循环(EventEmitter)  

```
阻塞: 线程调度的一种方式, 线程在执行任务的过程中遇到耗时 I/O操作  
会被系统暂时剥夺执行权,将资源让给其他线程; 所以阻塞模式下采用多线程才能处理多任务  

异步式I/O: 当线程遇到 I/O 操作时，不会以阻塞的方式等待 I/O 操作 的完成或数据的返回，  而只是将 I/O 请求发送给操作系统，继续执行下一条语句。  当操作 系统完成 I/O 操作时，以事件的形式通知执行 I/O 操作的线程，线程会在特定时候处理这个事件。  为了处理异步 I/O，线程必须有事件循环，不断地检查有没有未处理的事件，依次予 以处理。
```
- 单线程事件驱动的异步式I/O VS 传统的多线程阻塞式I/O 
```
异步式 I/O: 减少多线程开销,充分利用 cpu 资源, 编码控制流不易追溯  
阻塞(同步)式I/O: 通过多核多线程实现多任务, 资源消耗大, 线性控制流  
```
- node 的事件循环机制
```
Node.js 程序由事件循环开始，到事件循
环结束，所有的逻辑都是事件的回调函数，所以 Node.js 始终在事件循环中，程序入口就是 事件循环第一个事件的回调函数。  事件的回调函数在执行的过程中，可能会发出 I/O 请求或 直接发射(emit)事件，执行完毕后再返回事件循环，  事件循环会检查事件队列中有没有未 处理的事件，直到程序结束
```